LibStub('LibSimpleOptions-1.0').AddOptionsPanel('pMinimap', function(self)	local title, sub = self:MakeTitleTextAndSubText('pMinimap', 'These options allow you to customize the looks of pMinimap.')		self:MakeToggle(		'name', 'Toggle Minimap unlocked state',		'description', 'Set whether Minimap is unlocked or not',		'default', false,		'current', pMinimapDB2.unlocked,		'setFunc', function(x)			pMinimapDB2.unlocked = x			if(x) then				Minimap:SetBackdropColor(0, 1, 0, 0.5)			else				Minimap:SetBackdropColor(unpack(pMinimapDB2.colors))			end		end	):SetPoint('TOPLEFT', sub, 'BOTTOMLEFT', 0, -16)	self:MakeSlider(		'name', 'Minimap Scale',		'description', 'Drag to change the minimap scale',		'default', 0.9,		'minText', '0.75', 'maxText', '2.50',		'minValue', 0.75, 'maxValue', 2.50,		'step', 0.01,		'current', pMinimapDB2.scale,		'setFunc', function(x)			pMinimapDB2.scale = x			Minimap:SetScale(x)		end,		'currentTextFunc', function(num)			return format('%.2f', num)		end	):SetPoint('TOPLEFT', sub, 'BOTTOMLEFT', 0, -56)	self:MakeToggle(		'name', 'Show Clock',		'description', 'Check to enable the clock module',		'default', true,		'current', pMinimapDB2.clock,		'setFunc', function(x)			pMinimapDB2.clock = x			if(x) then				if(not IsAddOnLoaded('pMinimap_Clock')) then LoadAddOn('pMinimap_Clock') end				InterfaceOptionsDisplayPanelShowClock_SetFunc('1')				TimeManagerClockButton:ClearAllPoints()				if(pMinimapDB2.coords) then					MiniMapCoords:ClearAllPoints()					MiniMapCoords:SetPoint('BOTTOMRIGHT', Minimap)					TimeManagerClockButton:SetPoint('BOTTOMLEFT', Minimap)				else					TimeManagerClockButton:SetPoint('BOTTOM', Minimap)				end			else				InterfaceOptionsDisplayPanelShowClock_SetFunc('0')				if(pMinimapDB2.coords) then					MiniMapCoords:ClearAllPoints()					MiniMapCoords:SetPoint('BOTTOM', Minimap)				end			end		end	):SetPoint('TOPLEFT', sub, 'BOTTOMLEFT', 0, -180)	self:MakeToggle(		'name', 'Show Coords',		'description', 'Check to enable the coords module',		'default', false,		'current', pMinimapDB2.coords,		'setFunc', function(x)			pMinimapDB2.coords = x			if(x) then				if(not IsAddOnLoaded('pMinimap_Coords')) then LoadAddOn('pMinimap_Coords') end				MiniMapCoords:Show()				MiniMapCoords:ClearAllPoints()				if(pMinimapDB2.clock) then					TimeManagerClockButton:ClearAllPoints()					TimeManagerClockButton:SetPoint('BOTTOMLEFT', Minimap)					MiniMapCoords:SetPoint('BOTTOMRIGHT', Minimap)				else					MiniMapCoords:SetPoint('BOTTOM', Minimap)				end			else				MiniMapCoords:Hide()				if(pMinimapDB2.clock) then					TimeManagerClockButton:ClearAllPoints()					TimeManagerClockButton:SetPoint('BOTTOM', Minimap)				end			end		end	):SetPoint('TOPLEFT', sub, 'BOTTOMLEFT', 0, -200)	self:MakeToggle(		'name', 'Enable durabilty coloring',		'description', 'Check to enable durability module',		'default', true,		'current', pMinimapDB2.dura,		'setFunc', function(x)			pMinimapDB2.dura = x			if(x) then				if(not IsAddOnLoaded('pMinimap_Durability')) then 					LoadAddOn('pMinimap_Durability')				else					pMinimap:RegisterEvent('UPDATE_INVENTORY_ALERTS')					pMinimap.UPDATE_INVENTORY_ALERTS()					DurabilityFrame:SetAlpha(0)				end			else				pMinimap:UnregisterEvent('UPDATE_INVENTORY_ALERTS')				Minimap:SetBackdropColor(unpack(pMinimapDB2.colors))				DurabilityFrame:SetAlpha(1)			end		end	):SetPoint('TOPLEFT', sub, 'BOTTOMLEFT', 0, -86)	self:MakeSlider(		'name', 'Backdrop offset',		'description', 'Drag to change the backdrop border size',		'default', 1,		'minText', '0', 'maxText', '10',		'minValue', 0, 'maxValue', 10,		'step', 1,		'current', pMinimapDB2.offset,		'setFunc', function(x)			pMinimapDB2.offset = x			Minimap:SetBackdrop({bgFile = [=[Interface\ChatFrame\ChatFrameBackground]=], insets = {top = - x, left = - x, bottom = - x, right = - x}})			Minimap:SetBackdropColor(unpack(pMinimapDB2.colors))		end,		'currentTextFunc', function(num) return num end	):SetPoint('TOPLEFT', sub, 'BOTTOMLEFT', 0, -126)	self:MakeColorPicker(		'name', 'Backdrop color',		'description', 'Click to set a custom backdrop color',		'hasAlpha', true,		'defaultR', 0,		'defaultG', 0,		'defaultB', 0,		'defaultA', 1,		'getFunc', function() return unpack(pMinimapDB2.colors) end,		'setFunc', function(r, g, b, a)			pMinimapDB2.colors[1] = r			pMinimapDB2.colors[2] = g			pMinimapDB2.colors[3] = b			pMinimapDB2.colors[4] = a			Minimap:SetBackdropColor(unpack(pMinimapDB2.colors))		end	):SetPoint('TOPLEFT', sub, 'BOTTOMLEFT', 0, -156)	self:MakeSlider(		'name', 'Font size',		'description', 'Set the font size by dragging the slider',		'default', 13,		'minText', '5', 'maxText', '18',		'minValue', 5, 'maxValue', 18,		'step', 1,		'current', pMinimapDB2.fontsize,		'setFunc', function(x)			pMinimapDB2.fontsize = x			MiniMapMailText:SetFont(pMinimapDB2.font, x, pMinimapDB2.fontflag)			if(pMinimapDB2.clock) then				TimeManagerClockTicker:SetFont(pMinimapDB2.font, x, pMinimapDB2.fontflag)			end			if(pMinimapDB2.coords) then				MiniMapCoordText:SetFont(pMinimapDB2.font, x, pMinimapDB2.fontflag)			end		end,		'currentTextFunc', function(num) return num end	):SetPoint('TOPLEFT', sub, 'BOTTOMLEFT', 0, -290)	self:MakeDropDown(		'name', 'Font flag',		'description', 'Set the font flag from a dropdown',		'values', {'OUTLINE', 'Outline', 'THICKOUTLINE', 'Thick Outline', 'MONOCHROME', 'Monochrome', 'nil', 'None'},		'default', 'OUTLINE',		'current', pMinimapDB2.fontflag,		'setFunc', function(x)			pMinimapDB2.fontflag = x			MiniMapMailText:SetFont(pMinimapDB2.font, pMinimapDB2.fontsize, x)			if(pMinimapDB2.clock) then				TimeManagerClockTicker:SetFont(pMinimapDB2.font, pMinimapDB2.fontsize, x)			end			if(pMinimapDB2.coords) then				MiniMapCoordText:SetFont(pMinimapDB2.font, pMinimapDB2.fontsize, x)			end		end	):SetPoint('TOPLEFT', sub, 'BOTTOMLEFT', 160, -290)	self:MakeSlider(		'name', 'Frame level',		'description', 'Set your Minimap\'s frame level in this slider',		'default', 2,		'minText', '1', 'maxText', '15',		'minValue', 1, 'maxValue', 15,		'step', 1,		'current', pMinimapDB2.level,		'setFunc', function(x)			pMinimapDB2.level = x			Minimap:SetFrameLevel(x)		end,		'currentTextFunc', function(num) return num end	):SetPoint('TOPLEFT', sub, 'BOTTOMLEFT', 0, -340)	self:MakeDropDown(		'name', 'Frame strata',		'description', 'Set your Minimap\'s frame strata in this dropdown',		'values', {'DIALOG', 'Dialog', 'HIGH', 'High', 'MEDIUM', 'Medium', 'LOW', 'Low', 'BACKGROUND', 'Background'},		'default', 'BACKGROUND',		'current', pMinimapDB2.strata,		'setFunc', function(x)			pMinimapDB2.strata = x			Minimap:SetFrameStrata(x)		end	):SetPoint('TOPLEFT', sub, 'BOTTOMLEFT', 160, -340)end)